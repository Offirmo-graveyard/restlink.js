<html>
<head>
	<meta charset="utf-8">
	<title>Restlink Mocha Tests</title>
	<link rel="stylesheet" href="bower_components/mocha/mocha.css" />
	<script data-main="components.js" src="bower_components/requirejs/require.js"></script>

	<!-- for scripts that have a syntax error -->
	<!-- <script src="../utils/chai-you-promised.js"></script> -->
</head>

<body>

	<div id="mocha"></div>

<noscript>Your browser either does not support JavaScript, or has it turned off.</noscript>
<script>
	window.main = function()
	{
		console.log("Loading tests...");

		requirejs(
		[
			"mocha",
			"domReady!",

			// utils
//			"../utils/spec/cache_spec",
			"../utils/spec/backbone_sync_to_restlink_mixin_spec.js",
			"../utils/spec/chai-you-promised_spec.js",
			"../utils/spec/fast_timestamp_spec",
			"../utils/spec/route_indexed_container_spec",
			"../utils/spec/string_generics_spec.js",
//			"../utils/spec/serialization_utils_spec.js",

			// core
			"../core/spec/request_spec",
			"../core/spec/response_spec",

			// server base
			"../server/spec/session_spec",
			"../server/spec/rest_target_indexed_container_spec",
			"../server/spec/core_spec",

			"../server/middleware/spec/request_enrichments_spec",
			"../server/middleware/spec/response_enrichments_spec",
			"../server/middleware/spec/base_spec",
			"../server/middleware/spec/callback_spec",
			"../server/middleware/spec/catch_all_spec",
			"../server/middleware/spec/meta_spec",
			"../server/middleware/spec/logger_spec",
			//"../server/middleware/spec/auto_crud_spec",

			// server/adapters
			"../server/adapters/spec/base_spec",
			"../server/adapters/spec/direct_spec",
//			"../server/adapters/spec/http_spec", node only ! Not testable in browser (and not relevant)

			"../client/spec/base_spec",
//			"../client/spec/direct_spec",

			"../spec/server_spec",
			"../spec/server_BB_service_spec",
			"../spec/restlink_global_spec"
		],
		function() {
			mocha.checkLeaks();
			//mocha.globals(["jQuery"]);

			console.log("Starting tests...");
			mocha.run();
		});
	};
</script>

</body>
</html>
